'use strict';export const jsPanel={version:'4.0.0',date:'2018-05-22 09:09',ajaxAlwaysCallbacks:[],autopositionSpacing:4,closeOnEscape:(()=>{document.addEventListener('keydown',n=>{('Escape'===n.key||'Esc'===n.code||27===n.keyCode)&&jsPanel.getPanels(function(){return this.classList.contains('jsPanel')}).some(o=>{return!!o.options.closeOnEscape&&(o.close(),!0)})},!1)})(),defaults:{boxShadow:3,container:document.body,contentSize:{width:'400px',height:'200px'},dragit:{cursor:'move',handles:'.jsPanel-headerlogo, .jsPanel-titlebar, .jsPanel-ftr',opacity:0.8,disableOnMaximized:!0},header:!0,headerTitle:'jsPanel',headerControls:'all',iconfont:!1,maximizedMargin:0,minimizeTo:'default',paneltype:'standard',position:'center',resizeit:{handles:'n, e, s, w, ne, se, sw, nw',minWidth:128,minHeight:128},theme:'default'},defaultSnapConfig:{sensitivity:70,trigger:'panel'},error:(()=>{window.jsPanelError||(window.jsPanelError=function(n){this.name='jsPanelError',this.message=n||'',this.stack=new Error().stack},jsPanelError.prototype=Object.create(Error.prototype),jsPanelError.prototype.constructor=jsPanelError)})(),extensions:{},globalCallbacks:!1,icons:{close:`<svg class="jsPanel-icon" version="1.1" xmlns="http://www.w3.org/2000/svg" width="28" height="32" viewBox="0 0 28 32"><path fill="currentColor" d="M17.75 16l9.85-9.85c0.5-0.5 0.5-1.3 0-1.75-0.5-0.5-1.3-0.5-1.75 0l-9.85 9.85-9.85-9.9c-0.5-0.5-1.3-0.5-1.75 0-0.5 0.5-0.5 1.3 0 1.75l9.85 9.9-9.9 9.85c-0.5 0.5-0.5 1.3 0 1.75 0.25 0.25 0.55 0.35 0.9 0.35s0.65-0.1 0.9-0.35l9.85-9.85 9.85 9.85c0.25 0.25 0.55 0.35 0.9 0.35s0.65-0.1 0.9-0.35c0.5-0.5 0.5-1.3 0-1.75l-9.9-9.85z"></path></svg>`,maximize:`<svg class="jsPanel-icon" version="1.1" xmlns="http://www.w3.org/2000/svg" width="28" height="32" viewBox="0 0 28 32"><path fill="currentColor" d="M27.55 3.9h-22.6c-0.55 0-1 0.45-1 1v22.3c0 0.55 0.45 1 1 1h22.55c0.55 0 1-0.45 1-1v-22.3c0.050-0.55-0.4-1-0.95-1zM5.95 26.15v-18h20.55v18h-20.55z"></path></svg>`,normalize:`<svg class="jsPanel-icon" version="1.1" xmlns="http://www.w3.org/2000/svg" width="28" height="32" viewBox="0 0 28 32"><path fill="currentColor" d="M27.9 3.75h-18.8c-0.4 0-0.75 0.35-0.75 0.75v4.3c0 0.1 0 0.2 0.050 0.3h-4.2c-0.55 0-1 0.45-1 1v17.4c0 0.55 0.45 1 1 1h17.65c0.55 0 1-0.45 1-1v-3.7c0.050 0 0.1 0.050 0.2 0.050h4.9c0.4 0 0.75-0.35 0.75-0.75v-18.6c-0.050-0.4-0.4-0.75-0.8-0.75zM5.2 26.5v-12.95c0.050 0 0.1 0 0.15 0h15.4c0.050 0 0.1 0 0.15 0v12.95h-15.7zM27.15 22.35h-4.15c-0.050 0-0.15 0-0.2 0.050v-12.3c0-0.55-0.45-1-1-1h-12c0.050-0.1 0.050-0.2 0.050-0.3v-3.55h17.3v17.1z"></path></svg>`,minimize:`<svg class="jsPanel-icon" version="1.1" xmlns="http://www.w3.org/2000/svg" width="28" height="32" viewBox="0 0 28 32"><path fill="currentColor" d="M27.3 28.5h-22.6c-0.85 0-1.5-0.65-1.5-1.5s0.65-1.5 1.5-1.5h22.55c0.85 0 1.5 0.65 1.5 1.5s-0.65 1.5-1.45 1.5z"></path></svg>`,smallifyrev:`<svg class="jsPanel-icon" version="1.1" xmlns="http://www.w3.org/2000/svg" width="28" height="32" viewBox="0 0 28 32"><path fill="currentColor" d="M15.95 23.2c0 0 0 0 0 0-0.35 0-0.65-0.15-0.9-0.35l-11.7-11.9c-0.5-0.5-0.5-1.3 0-1.75 0.5-0.5 1.3-0.5 1.75 0l10.85 10.95 10.9-10.8c0.5-0.5 1.3-0.5 1.75 0s0.5 1.3 0 1.75l-11.75 11.7c-0.25 0.25-0.55 0.4-0.9 0.4z"></path></svg>`,smallify:`<svg class="jsPanel-icon" version="1.1" xmlns="http://www.w3.org/2000/svg" width="28" height="32" viewBox="0 0 28 32"><path fill="currentColor" d="M28.65 20.85l-11.8-11.65c-0.5-0.5-1.3-0.5-1.75 0l-11.75 11.85c-0.5 0.5-0.5 1.3 0 1.75 0.25 0.25 0.55 0.35 0.9 0.35 0.3 0 0.65-0.1 0.9-0.35l10.85-10.95 10.9 10.8c0.5 0.5 1.3 0.5 1.75 0 0.5-0.5 0.5-1.3 0-1.8z"></path></svg>`},idCounter:0,isIE:(()=>{return navigator.appVersion.match(/Trident/)})(),mdbthemes:['secondary','elegant','stylish','unique','special'],pointerdown:'ontouchend'in window?['touchstart','mousedown']:['mousedown'],pointermove:'ontouchend'in window?['touchmove','mousemove']:['mousemove'],pointerup:'ontouchend'in window?['touchend','mouseup']:['mouseup'],polyfills:(()=>{(function(n){n.forEach(function(o){o.append=o.append||function(){let c=Array.prototype.slice.call(arguments),f=document.createDocumentFragment();c.forEach(function(m){let u=m instanceof Node;f.appendChild(u?m:document.createTextNode(m+''))}),this.appendChild(f)}})})([Element.prototype,Document.prototype,DocumentFragment.prototype]),window.Element&&!Element.prototype.closest&&(Element.prototype.closest=function(n){let c,o=(this.document||this.ownerDocument).querySelectorAll(n),f=this;do for(c=o.length;0<=--c&&o.item(c)!==f;);while(0>c&&(f=f.parentElement));return f}),window.NodeList&&!NodeList.prototype.forEach&&(NodeList.prototype.forEach=function(n,o){o=o||window;for(let c=0;c<this.length;c++)n.call(o,this[c],c,this)}),Object.assign||Object.defineProperty(Object,'assign',{enumerable:!1,configurable:!0,writable:!0,value:function(n){if(n===void 0||null===n)throw new TypeError('Cannot convert first argument to object');let o=Object(n);for(let f,c=1;c<arguments.length;c++)if(f=arguments[c],void 0!==f&&null!==f){f=Object(f);let m=Object.keys(Object(f));for(let u=0,y=m.length;u<y;u++){let v=m[u],x=Object.getOwnPropertyDescriptor(f,v);void 0!==x&&x.enumerable&&(o[v]=f[v])}}return o}}),function(){function n(o,c){c=c||{bubbles:!1,cancelable:!1,detail:void 0};let f=document.createEvent('CustomEvent');return f.initCustomEvent(o,c.bubbles,c.cancelable,c.detail),f}return'function'!=typeof window.CustomEvent&&void(n.prototype=window.Event.prototype,window.CustomEvent=n)}(),String.prototype.endsWith||(String.prototype.endsWith=function(n,o){return o<this.length?o|=0:o=this.length,this.substr(o-n.length,n.length)===n}),String.prototype.startsWith||(String.prototype.startsWith=function(n,o){return this.substr(o||0,n.length)===n})})(),themes:['default','primary','info','success','warning','danger'],ziBase:100,ajax(obj,ajaxConfig){let objIsPanel;'object'==typeof obj&&obj.classList.contains('jsPanel')?objIsPanel=!0:(objIsPanel=!1,'string'==typeof obj&&(obj=document.querySelector(obj)));const conf=ajaxConfig,configDefaults={method:'GET',async:!0,user:'',pwd:'',done:function(){objIsPanel?obj.content.innerHTML=this.responseText:obj.innerHTML=this.responseText},autoresize:!0,autoreposition:!0};let config;if('string'==typeof conf)config=Object.assign({},configDefaults,{url:encodeURI(conf),evalscripttags:!0});else if('object'==typeof conf&&conf.url)config=Object.assign({},configDefaults,conf),config.url=encodeURI(conf.url),!1===config.async&&(config.timeout=0,config.withCredentials&&(config.withCredentials=void 0),config.responseType&&(config.responseType=void 0));else return console.info('XMLHttpRequest seems to miss the request url!'),obj;const xhr=new XMLHttpRequest;return xhr.onreadystatechange=()=>{if(4===xhr.readyState){if(200!==xhr.status)config.fail&&config.fail.call(xhr,obj);else if(config.done.call(xhr,obj),config.evalscripttags){const scripttags=xhr.responseText.match(/<script\b[^>]*>([\s\S]*?)<\/script>/gi);scripttags&&scripttags.forEach(tag=>{let js=tag.replace(/<script\b[^>]*>/i,'').replace(/<\/script>/i,'').trim();eval(js)})}if(config.always&&config.always.call(xhr,obj),objIsPanel){const n=obj.options.contentSize;if('string'==typeof n&&n.match(/auto/i)){const o=n.split(' '),c=Object.assign({},{width:o[0],height:o[1]});config.autoresize&&obj.resize(c),!obj.classList.contains('jsPanel-contextmenu')&&config.autoreposition&&obj.reposition()}else if('object'==typeof n&&('auto'===n.width||'auto'===n.height)){const o=Object.assign({},n);config.autoresize&&obj.resize(o),!obj.classList.contains('jsPanel-contextmenu')&&config.autoreposition&&obj.reposition()}}jsPanel.ajaxAlwaysCallbacks.length&&jsPanel.ajaxAlwaysCallbacks.forEach(n=>{n.call(obj,obj)})}},xhr.open(config.method,config.url,config.async,config.user,config.pwd),xhr.timeout=config.timeout||0,config.withCredentials&&(xhr.withCredentials=config.withCredentials),config.responseType&&(xhr.responseType=config.responseType),config.beforeSend&&config.beforeSend.call(xhr),config.data?xhr.send(config.data):xhr.send(null),obj},calcColors(n){const o=this.color(n),c=this.lighten(n,0.81),f=this.darken(n,0.5),m=0.556>=this.perceivedBrightness(n)?'#ffffff':'#000000',u=0.556>=this.perceivedBrightness(c)?'#ffffff':'#000000',y=0.556>=this.perceivedBrightness(f)?'#000000':'#ffffff';return[o.hsl.css,c,f,m,u,y]},color(n){let c,f,m,u,y,v,x,E,z,o=n.toLowerCase(),C={};const S=/^#?([0-9a-f]{3}|[0-9a-f]{6})$/gi,j=/^rgba?\(([0-9]{1,3}),([0-9]{1,3}),([0-9]{1,3}),?(0|1|0\.[0-9]{1,2}|\.[0-9]{1,2})?\)$/gi,P=/^hsla?\(([0-9]{1,3}),([0-9]{1,3}%),([0-9]{1,3}%),?(0|1|0\.[0-9]{1,2}|\.[0-9]{1,2})?\)$/gi,T={aliceblue:'f0f8ff',antiquewhite:'faebd7',aqua:'0ff',aquamarine:'7fffd4',azure:'f0ffff',beige:'f5f5dc',bisque:'ffe4c4',black:'000',blanchedalmond:'ffebcd',blue:'00f',blueviolet:'8a2be2',brown:'a52a2a',burlywood:'deb887',cadetblue:'5f9ea0',chartreuse:'7fff00',chocolate:'d2691e',coral:'ff7f50',cornflowerblue:'6495ed',cornsilk:'fff8dc',crimson:'dc143c',cyan:'0ff',darkblue:'00008b',darkcyan:'008b8b',darkgoldenrod:'b8860b',darkgray:'a9a9a9',darkgrey:'a9a9a9',darkgreen:'006400',darkkhaki:'bdb76b',darkmagenta:'8b008b',darkolivegreen:'556b2f',darkorange:'ff8c00',darkorchid:'9932cc',darkred:'8b0000',darksalmon:'e9967a',darkseagreen:'8fbc8f',darkslateblue:'483d8b',darkslategray:'2f4f4f',darkslategrey:'2f4f4f',darkturquoise:'00ced1',darkviolet:'9400d3',deeppink:'ff1493',deepskyblue:'00bfff',dimgray:'696969',dimgrey:'696969',dodgerblue:'1e90ff',firebrick:'b22222',floralwhite:'fffaf0',forestgreen:'228b22',fuchsia:'f0f',gainsboro:'dcdcdc',ghostwhite:'f8f8ff',gold:'ffd700',goldenrod:'daa520',gray:'808080',grey:'808080',green:'008000',greenyellow:'adff2f',honeydew:'f0fff0',hotpink:'ff69b4',indianred:'cd5c5c',indigo:'4b0082',ivory:'fffff0',khaki:'f0e68c',lavender:'e6e6fa',lavenderblush:'fff0f5',lawngreen:'7cfc00',lemonchiffon:'fffacd',lightblue:'add8e6',lightcoral:'f08080',lightcyan:'e0ffff',lightgoldenrodyellow:'fafad2',lightgray:'d3d3d3',lightgrey:'d3d3d3',lightgreen:'90ee90',lightpink:'ffb6c1',lightsalmon:'ffa07a',lightseagreen:'20b2aa',lightskyblue:'87cefa',lightslategray:'789',lightslategrey:'789',lightsteelblue:'b0c4de',lightyellow:'ffffe0',lime:'0f0',limegreen:'32cd32',linen:'faf0e6',magenta:'f0f',maroon:'800000',mediumaquamarine:'66cdaa',mediumblue:'0000cd',mediumorchid:'ba55d3',mediumpurple:'9370d8',mediumseagreen:'3cb371',mediumslateblue:'7b68ee',mediumspringgreen:'00fa9a',mediumturquoise:'48d1cc',mediumvioletred:'c71585',midnightblue:'191970',mintcream:'f5fffa',mistyrose:'ffe4e1',moccasin:'ffe4b5',navajowhite:'ffdead',navy:'000080',oldlace:'fdf5e6',olive:'808000',olivedrab:'6b8e23',orange:'ffa500',orangered:'ff4500',orchid:'da70d6',palegoldenrod:'eee8aa',palegreen:'98fb98',paleturquoise:'afeeee',palevioletred:'d87093',papayawhip:'ffefd5',peachpuff:'ffdab9',peru:'cd853f',pink:'ffc0cb',plum:'dda0dd',powderblue:'b0e0e6',purple:'800080',rebeccapurple:'639',red:'f00',rosybrown:'bc8f8f',royalblue:'4169e1',saddlebrown:'8b4513',salmon:'fa8072',sandybrown:'f4a460',seagreen:'2e8b57',seashell:'fff5ee',sienna:'a0522d',silver:'c0c0c0',skyblue:'87ceeb',slateblue:'6a5acd',slategray:'708090',slategrey:'708090',snow:'fffafa',springgreen:'00ff7f',steelblue:'4682b4',tan:'d2b48c',teal:'008080',thistle:'d8bfd8',tomato:'ff6347',turquoise:'40e0d0',violet:'ee82ee',wheat:'f5deb3',white:'fff',whitesmoke:'f5f5f5',yellow:'ff0',yellowgreen:'9acd32'};return T[o]&&(o=T[o]),null===o.match(S)?o.match(j)?(x=j.exec(o),C.rgb={css:o,r:x[1],g:x[2],b:x[3]},C.hex=this.rgbToHex(x[1],x[2],x[3]),z=this.rgbToHsl(x[1],x[2],x[3]),C.hsl=z):o.match(P)?(x=P.exec(o),u=x[1]/360,y=x[2].substr(0,x[2].length-1)/100,v=x[3].substr(0,x[3].length-1)/100,E=this.hslToRgb(u,y,v),C.rgb={css:`rgb(${E[0]},${E[1]},${E[2]})`,r:E[0],g:E[1],b:E[2]},C.hex=this.rgbToHex(C.rgb.r,C.rgb.g,C.rgb.b),C.hsl={css:`hsl(${x[1]},${x[2]},${x[3]})`,h:x[1],s:x[2],l:x[3]}):(C.hex='#f5f5f5',C.rgb={css:'rgb(245,245,245)',r:245,g:245,b:245},C.hsl={css:'hsl(0,0%,96.08%)',h:0,s:'0%',l:'96.08%'}):(o=o.replace('#',''),1==o.length%2?(c=o.substr(0,1)+''+o.substr(0,1),f=o.substr(1,1)+''+o.substr(1,1),m=o.substr(2,1)+''+o.substr(2,1),C.rgb={r:parseInt(c,16),g:parseInt(f,16),b:parseInt(m,16)},C.hex=`#${c}${f}${m}`):(C.rgb={r:parseInt(o.substr(0,2),16),g:parseInt(o.substr(2,2),16),b:parseInt(o.substr(4,2),16)},C.hex=`#${o}`),z=this.rgbToHsl(C.rgb.r,C.rgb.g,C.rgb.b),C.hsl=z,C.rgb.css=`rgb(${C.rgb.r},${C.rgb.g},${C.rgb.b})`),C},createPanelTemplate(n=!0){const o=document.createElement('div');return o.className='jsPanel',n&&['close','maximize','normalize','minimize','smallify','smallifyrev'].forEach(c=>{o.setAttribute(`data-btn${c}`,'enabled')}),o.innerHTML=`<div class="jsPanel-hdr"><div class="jsPanel-headerbar"><div class="jsPanel-headerlogo"></div><div class="jsPanel-titlebar"><span class="jsPanel-title"></span></div><div class="jsPanel-controlbar"><div class="jsPanel-btn jsPanel-btn-smallify">${this.icons.smallify}</div><div class="jsPanel-btn jsPanel-btn-smallifyrev">${this.icons.smallifyrev}</div><div class="jsPanel-btn jsPanel-btn-minimize">${this.icons.minimize}</div><div class="jsPanel-btn jsPanel-btn-normalize">${this.icons.normalize}</div><div class="jsPanel-btn jsPanel-btn-maximize">${this.icons.maximize}</div><div class="jsPanel-btn jsPanel-btn-close">${this.icons.close}</div></div></div><div class="jsPanel-hdr-toolbar"></div></div><div class="jsPanel-content"></div><div class="jsPanel-minimized-box"></div><div class="jsPanel-ftr"></div>`,o},createMinimizedTemplate(){const n=document.createElement('div');return n.className='jsPanel-replacement',n.innerHTML=`<div class="jsPanel-hdr"><div class="jsPanel-headerbar"><div class="jsPanel-headerlogo"></div><div class="jsPanel-titlebar"><span class="jsPanel-title"></span></div><div class="jsPanel-controlbar"><div class="jsPanel-btn jsPanel-btn-normalize">${this.icons.normalize}</div><div class="jsPanel-btn jsPanel-btn-maximize">${this.icons.maximize}</div><div class="jsPanel-btn jsPanel-btn-close">${this.icons.close}</div></div></div></div>`,n},createSnapArea(n,o,c){const f=document.createElement('div'),m=n.parentElement;f.className=`jsPanel-snap-area jsPanel-snap-area-${o}`,'lt'===o||'rt'===o||'rb'===o||'lb'===o?(f.style.width=c+'px',f.style.height=c+'px'):'ct'===o||'cb'===o?f.style.height=c+'px':('lc'==o||'rc'==o)&&(f.style.width=c+'px'),m!==document.body&&(f.style.position='absolute'),document.querySelector(`.jsPanel-snap-area.jsPanel-snap-area-${o}`)||n.parentElement.appendChild(f)},darken(n,o){const c=this.color(n).hsl,f=parseFloat(c.l);return`hsl(${c.h},${c.s},${f-f*o+'%'})`},dragit(n,o={}){let c,m,u,f=Object.assign({},this.defaults.dragit,o),y=[];const v=new CustomEvent('jspaneldragstart',{detail:n.id}),x=new CustomEvent('jspaneldrag',{detail:n.id}),E=new CustomEvent('jspaneldragstop',{detail:n.id});return f.grid&&Array.isArray(f.grid)&&1===f.grid.length&&(f.grid[1]=f.grid[0]),u=this.pOcontainment(f.containment),n.querySelectorAll(f.handles).forEach(z=>{z.style.touchAction='none',z.style.cursor=f.cursor,jsPanel.pointerdown.forEach(C=>{z.addEventListener(C,S=>{if(S.preventDefault(),!S.target.closest('.jsPanel-ftr-btn')){n.controlbar.style.pointerEvents='none',y=document.querySelectorAll('iframe'),y.length&&y.forEach(B=>{B.style.pointerEvents='none'});const j=window.getComputedStyle(n),P=parseFloat(j.left),T=parseFloat(j.top),L=S.touches?S.touches[0].clientX:S.clientX,k=S.touches?S.touches[0].clientY:S.clientY,A=n.parentElement,W=A.getBoundingClientRect(),H=window.getComputedStyle(A);let R=0;m=B=>{if(B.preventDefault(),!c){if(document.dispatchEvent(v),n.style.opacity=f.opacity,n.snapped&&f.snap.resizeToPreSnap&&n.currentData.beforeSnap){n.resize(n.currentData.beforeSnap.width+' '+n.currentData.beforeSnap.height);let se=n.getBoundingClientRect(),re=L-(se.left+se.width),de=se.width/2;re>-de&&(R=re+de)}f.start&&jsPanel.processCallbacks(n,f.start,!1,{left:P,top:T}),jsPanel.front(n),n.snapped=!1}if(c=1,f.disableOnMaximized&&'maximized'===n.status)return!1;let D,O,M,I,N,X,Y,F,V,_;const K=B.touches?B.touches[0].clientX:B.clientX,G=B.touches?B.touches[0].clientY:B.clientY,U=window.getComputedStyle(n);if(A===document.body){let se=n.getBoundingClientRect();V=window.innerWidth-parseInt(H.borderLeftWidth,10)-parseInt(H.borderRightWidth,10)-(se.left+se.width),_=window.innerHeight-parseInt(H.borderTopWidth,10)-parseInt(H.borderBottomWidth,10)-(se.top+se.height)}else V=parseInt(H.width,10)-parseInt(H.borderLeftWidth,10)-parseInt(H.borderRightWidth,10)-(parseInt(U.left,10)+parseInt(U.width,10)),_=parseInt(H.height,10)-parseInt(H.borderTopWidth,10)-parseInt(H.borderBottomWidth,10)-(parseInt(U.top,10)+parseInt(U.height,10));D=parseFloat(U.left),M=parseFloat(U.top),N=V,Y=_,f.snap&&('panel'===f.snap.trigger?O=Math.pow(D,2):'pointer'===f.snap.trigger&&(D=K,O=Math.pow(K,2),M=G,N=window.innerWidth-K,Y=window.innerHeight-G),I=Math.pow(M,2),X=Math.pow(N,2),F=Math.pow(Y,2));const Z=Math.sqrt(O+I),J=Math.sqrt(O+F),Q=Math.sqrt(X+I),ee=Math.sqrt(X+F),te=Math.abs(D-N)/2,ne=Math.abs(M-Y)/2,ae=Math.sqrt(O+Math.pow(ne,2)),oe=Math.sqrt(I+Math.pow(te,2)),ie=Math.sqrt(X+Math.pow(ne,2)),le=Math.sqrt(F+Math.pow(te,2));if(window.getSelection().removeAllRanges(),document.dispatchEvent(x),f.axis&&'x'!==f.axis||(n.style.left=P+(K-L)+R+'px'),f.axis&&'y'!==f.axis||(n.style.top=T+(G-k)+'px'),f.grid){const se=parseFloat(U.left),re=parseFloat(U.top),de=se%f.grid[0],ce=re%f.grid[1];n.style.left=de<f.grid[0]/2?se-de+'px':se+(f.grid[0]-de)+'px',n.style.top=ce<f.grid[1]/2?re-ce+'px':re+(f.grid[1]-ce)+'px'}if(f.containment||0===f.containment){let se,re;if(n.options.container===document.body)se=window.innerWidth-parseFloat(U.width)-u[1],re=window.innerHeight-parseFloat(U.height)-u[2];else{const de=parseFloat(H.borderLeftWidth)+parseFloat(H.borderRightWidth),ce=parseFloat(H.borderTopWidth)+parseFloat(H.borderBottomWidth);se=W.width-parseFloat(U.width)-u[1]-de,re=W.height-parseFloat(U.height)-u[2]-ce}parseFloat(n.style.left)<=u[3]&&(n.style.left=u[3]+'px'),parseFloat(n.style.top)<=u[0]&&(n.style.top=u[0]+'px'),parseFloat(n.style.left)>=se&&(n.style.left=se+'px'),parseFloat(n.style.top)>=re&&(n.style.top=re+'px')}if(f.drag&&jsPanel.processCallbacks(n,f.drag,!1,{left:D,top:M,right:N,bottom:Y}),f.snap){const se=f.snap.sensitivity,re=A===document.body?window.innerWidth/8:W.width/8,de=A===document.body?window.innerHeight/8:W.height/8;n.snappableTo=!1,jsPanel.removeSnapAreas(n),Z<se?(n.snappableTo='left-top',!1!==f.snap.snapLeftTop&&jsPanel.createSnapArea(n,'lt',se)):J<se?(n.snappableTo='left-bottom',!1!==f.snap.snapLeftBottom&&jsPanel.createSnapArea(n,'lb',se)):Q<se?(n.snappableTo='right-top',!1!==f.snap.snapRightTop&&jsPanel.createSnapArea(n,'rt',se)):ee<se?(n.snappableTo='right-bottom',!1!==f.snap.snapRightBottom&&jsPanel.createSnapArea(n,'rb',se)):M<se&&oe<re?(n.snappableTo='center-top',!1!==f.snap.snapCenterTop&&jsPanel.createSnapArea(n,'ct',se)):D<se&&ae<de?(n.snappableTo='left-center',!1!==f.snap.snapLeftCenter&&jsPanel.createSnapArea(n,'lc',se)):N<se&&ie<de?(n.snappableTo='right-center',!1!==f.snap.snapRightCenter&&jsPanel.createSnapArea(n,'rc',se)):Y<se&&le<re&&(n.snappableTo='center-bottom',!1!==f.snap.snapCenterBottom&&jsPanel.createSnapArea(n,'cb',se))}},jsPanel.pointermove.forEach(function(B){document.addEventListener(B,m)})}})}),jsPanel.pointerup.forEach(function(C){document.addEventListener(C,()=>{jsPanel.pointermove.forEach(function(S){document.removeEventListener(S,m)}),document.body.style.overflow='inherit',jsPanel.removeSnapAreas(n),c&&(document.dispatchEvent(E),n.style.opacity=1,c=void 0,n.saveCurrentPosition(),f.snap&&('left-top'===n.snappableTo?jsPanel.snapPanel(n,f.snap.snapLeftTop):'center-top'===n.snappableTo?jsPanel.snapPanel(n,f.snap.snapCenterTop):'right-top'===n.snappableTo?jsPanel.snapPanel(n,f.snap.snapRightTop):'right-center'===n.snappableTo?jsPanel.snapPanel(n,f.snap.snapRightCenter):'right-bottom'===n.snappableTo?jsPanel.snapPanel(n,f.snap.snapRightBottom):'center-bottom'===n.snappableTo?jsPanel.snapPanel(n,f.snap.snapCenterBottom):'left-bottom'===n.snappableTo?jsPanel.snapPanel(n,f.snap.snapLeftBottom):'left-center'===n.snappableTo&&jsPanel.snapPanel(n,f.snap.snapLeftCenter),f.snap.callback&&n.snappableTo&&'function'==typeof f.snap.callback&&f.snap.callback.call(n,n),n.snappableTo&&f.snap.repositionOnSnap&&n.repositionOnSnap(n.snappableTo)),f.stop&&jsPanel.processCallbacks(n,f.stop,!1,{left:parseFloat(n.style.left),top:parseFloat(n.style.top)})),n.controlbar.style.pointerEvents='inherit',y.length&&y.forEach(function(S){S.style.pointerEvents='inherit'})})}),f.disable&&(z.style.pointerEvents='none')}),n},emptyNode(n){for(;n.firstChild;)n.removeChild(n.firstChild);return n},extend(n){if('[object Object]'===Object.prototype.toString.call(n))for(let o in n)n.hasOwnProperty(o)&&(this.extensions[o]=n[o])},fetch(obj){let conf=obj.options.contentFetch,confDefaults={bodyMethod:'text',evalscripttags:!0,autoresize:!0,autoreposition:!0,done:function(n,o){n.content.innerHTML=o}};conf='string'==typeof conf?Object.assign({resource:obj.options.contentFetch},confDefaults):Object.assign(confDefaults,conf);let fetchInit=conf.fetchInit||{};conf.beforeSend&&conf.beforeSend.call(obj,obj),fetch(conf.resource,fetchInit).then(function(n){if(n.ok)return n[conf.bodyMethod]();throw new Error('Network response was not ok.')}).then(function(response){if(conf.done.call(obj,obj,response),conf.evalscripttags){const scripttags=response.match(/<script\b[^>]*>([\s\S]*?)<\/script>/gi);scripttags&&scripttags.forEach(tag=>{let js=tag.replace(/<script\b[^>]*>/i,'').replace(/<\/script>/i,'').trim();eval(js)})}const oContentSize=obj.options.contentSize;if(conf.autoresize||conf.autoreposition)if('string'==typeof oContentSize&&oContentSize.match(/auto/i)){const n=oContentSize.split(' '),o=Object.assign({},{width:n[0],height:n[1]});conf.autoresize&&obj.resize(o),!obj.classList.contains('jsPanel-contextmenu')&&conf.autoreposition&&obj.reposition()}else if('object'==typeof oContentSize&&('auto'===oContentSize.width||'auto'===oContentSize.height)){const n=Object.assign({},oContentSize);conf.autoresize&&obj.resize(n),!obj.classList.contains('jsPanel-contextmenu')&&conf.autoreposition&&obj.reposition()}}).catch(function(n){console.error('There has been a problem with your fetch operation: '+n.message)})},front(n){if('minimized'===n.status)'maximized'===n.statusBefore?n.maximize():n.normalize();else{const o=Array.prototype.slice.call(document.querySelectorAll('.jsPanel-standard')).map(c=>{return c.style.zIndex});Math.max(...o)>n.style.zIndex&&(n.style.zIndex=jsPanel.zi.next()),this.resetZi()}this.getPanels().forEach(function(o,c){let f=o.content.querySelector('.jsPanel-iframe-overlay');if(!(0<c))f&&o.content.removeChild(f);else if(o.content.querySelector('iframe')&&!f){let m=document.createElement('div');m.className='jsPanel-iframe-overlay',o.content.appendChild(m)}})},getPanels(n=function(){return this.classList.contains('jsPanel-standard')}){return Array.prototype.slice.call(document.querySelectorAll('.jsPanel')).filter(o=>{return n.call(o,o)}).sort((o,c)=>{return c.style.zIndex-o.style.zIndex})},hslToRgb(n,o,c){let f,m,u;if(0===o)f=m=u=c;else{let y=(E,z,C)=>{return 0>C&&(C+=1),1<C&&(C-=1),C<1/6?E+6*(z-E)*C:C<1/2?z:C<2/3?E+6*((z-E)*(2/3-C)):E},v=0.5>c?c*(1+o):c+o-c*o,x=2*c-v;f=y(x,v,n+1/3),m=y(x,v,n),u=y(x,v,n-1/3)}return[Math.round(255*f),Math.round(255*m),Math.round(255*u)]},lighten(n,o){const c=this.color(n).hsl,f=parseFloat(c.l);return`hsl(${c.h},${c.s},${f+(100-f)*o+'%'})`},perceivedBrightness(n){const o=this.color(n).rgb;return 0.2627*(o.r/255)+0.678*(o.g/255)+0.0593*(o.b/255)},pOcontainer(n,o){if(n){let f;if('string'==typeof n?f=document.querySelector(n):1===n.nodeType?f=n:n.length&&(f=n[0]),f&&1===f.nodeType)return f}const c=new jsPanelError('NO NEW PANEL CREATED!\nThe container to append the panel to does not exist or a container was not specified!');try{throw c}catch(f){o&&o.call(f,f)}return c},pOcontainment(n){if('number'==typeof n)return[n,n,n,n];if(Array.isArray(n)){if(1===n.length)return[n[0],n[0],n[0],n[0]];if(2===n.length)return n.concat(n);3===n.length&&(n[3]=n[1])}return n},pOsize(n,o){let c=o||this.defaults.contentSize,f=n.parentElement;if('string'==typeof c){let m=c.trim().split(' ');c={},c.width=m[0],c.height=2===m.length?m[1]:m[0]}else c.width&&!c.height?c.height=c.width:c.height&&!c.width&&(c.width=c.height);if((c.width+'').match(/^[0-9.]+$/gi))c.width+='px';else if(!('string'==typeof c.width&&c.width.endsWith('%')))'function'==typeof c.width&&(c.width=c.width.call(n,n),'number'==typeof c.width?c.width+='px':'string'==typeof c.width&&c.width.match(/^[0-9.]+$/gi)&&(c.width+='px'));else if(f===document.body)c.width=window.innerWidth*(parseFloat(c.width)/100)+'px';else{const m=window.getComputedStyle(f),u=parseFloat(m.borderLeftWidth)+parseFloat(m.borderRightWidth);c.width=(parseFloat(m.width)-u)*(parseFloat(c.width)/100)+'px'}if((c.height+'').match(/^[0-9.]+$/gi))c.height+='px';else if(!('string'==typeof c.height&&c.height.endsWith('%')))'function'==typeof c.height&&(c.height=c.height.call(n,n),'number'==typeof c.height?c.height+='px':'string'==typeof c.height&&c.height.match(/^[0-9.]+$/gi)&&(c.height+='px'));else if(f===document.body)c.height=window.innerHeight*(parseFloat(c.height)/100)+'px';else{const m=window.getComputedStyle(f),u=parseFloat(m.borderTopWidth)+parseFloat(m.borderBottomWidth);c.height=(parseFloat(m.height)-u)*(parseFloat(c.height)/100)+'px'}return c},pOposition(n){const o=n.match(/\b[a-z]{4,6}-{1}[a-z]{3,6}\b/i),c=n.match(/down|up|right([^-]|$)|left([^-]|$)/i),f=n.match(/[+-]?\d?\.?\d+([a-z%]{2,4}\b|%?)/gi);let m;return m=o?{my:o[0].toLowerCase(),at:o[0].toLowerCase()}:{my:'center',at:'center'},c&&(m.autoposition=c[0].toLowerCase()),f&&(f.forEach((u,y)=>{u.match(/^[+-]?[0-9]*$/)&&(f[y]+='px'),f[y]=f[y].toLowerCase()}),1===f.length?(m.offsetX=f[0],m.offsetY=f[0]):(m.offsetX=f[0],m.offsetY=f[1])),m},position(n,o){let c,f,m,u={left:0,top:0},y=0,v=0,x=0,E=0;const z={my:'center',at:'center',of:'window',offsetX:'0px',offsetY:'0px'},C={width:document.documentElement.clientWidth,height:window.innerHeight},S=pageXOffset,j=pageYOffset;if(c='string'==typeof n?document.querySelector(n):n,!o)return c.style.opacity=1,c;const P=c.getBoundingClientRect();f='string'==typeof o?Object.assign({},z,jsPanel.pOposition(o)):Object.assign({},z,o);const T=c.parentElement,L=window.getComputedStyle(T),k=T.getBoundingClientRect(),A=T.tagName.toLowerCase();if(f.of&&'window'!==f.of&&('string'==typeof f.of?m=document.querySelector(f.of):m=f.of),f.my.match(/^center-top$|^center$|^center-bottom$/i)?y=P.width/2:f.my.match(/right/i)&&(y=P.width),f.my.match(/^left-center$|^center$|^right-center$/i)?v=P.height/2:f.my.match(/bottom/i)&&(v=P.height),'body'===A&&'window'===f.of)f.at.match(/^center-top$|^center$|^center-bottom$/i)?x=C.width/2:f.at.match(/right/i)&&(x=C.width),f.at.match(/^left-center$|^center$|^right-center$/i)?E=C.height/2:f.at.match(/bottom/i)&&(E=C.height),u.left=x-y-parseFloat(L.borderLeftWidth),u.top=E-v-parseFloat(L.borderTopWidth),c.style.position='fixed';else if('body'===A&&'window'!==f.of){const W=m.getBoundingClientRect();x=f.at.match(/^center-top$|^center$|^center-bottom$/i)?W.width/2+W.left+S:f.at.match(/right/i)?W.width+W.left+S:W.left+S,E=f.at.match(/^left-center$|^center$|^right-center$/i)?W.height/2+W.top+j:f.at.match(/bottom/i)?W.height+W.top+j:W.top+j,u.left=x-y-parseFloat(L.borderLeftWidth),u.top=E-v-parseFloat(L.borderTopWidth)}else if('body'!==A&&('window'===f.of||!f.of)){const W=parseFloat(L.borderLeftWidth)+parseFloat(L.borderRightWidth),H=parseFloat(L.borderTopWidth)+parseFloat(L.borderBottomWidth);f.at.match(/^center-top$|^center$|^center-bottom$/i)?x=k.width/2-W/2:f.at.match(/right/i)&&(x=k.width-W),f.at.match(/^left-center$|^center$|^right-center$/i)?E=k.height/2-H/2:f.at.match(/bottom/i)&&(E=k.height-H),u.left=x-y,u.top=E-v}else if('body'!==A&&T.contains(m)){const W=m.getBoundingClientRect();x=f.at.match(/^center-top$|^center$|^center-bottom$/i)?W.left-k.left+W.width/2:f.at.match(/right/i)?W.left-k.left+W.width:W.left-k.left,E=f.at.match(/^left-center$|^center$|^right-center$/i)?W.top-k.top+W.height/2:f.at.match(/bottom/i)?W.top-k.top+W.height:W.top-k.top,u.left=x-y-parseFloat(L.borderLeftWidth),u.top=E-v-parseFloat(L.borderTopWidth)}if(f.autoposition&&f.my===f.at&&0<=['left-top','center-top','right-top','left-bottom','center-bottom','right-bottom'].indexOf(f.my)){const W=`${f.my}-${f.autoposition.toLowerCase()}`;c.classList.add(W);const H=Array.prototype.slice.call(document.querySelectorAll(`.${W}`)),R=H.indexOf(c);1<H.length&&('down'===f.autoposition?H.forEach((B,D)=>{0<D&&D<=R&&(u.top+=H[--D].getBoundingClientRect().height+jsPanel.autopositionSpacing)}):'up'===f.autoposition?H.forEach((B,D)=>{0<D&&D<=R&&(u.top-=H[--D].getBoundingClientRect().height+jsPanel.autopositionSpacing)}):'right'===f.autoposition?H.forEach((B,D)=>{0<D&&D<=R&&(u.left+=H[--D].getBoundingClientRect().width+jsPanel.autopositionSpacing)}):'left'===f.autoposition&&H.forEach((B,D)=>{0<D&&D<=R&&(u.left-=H[--D].getBoundingClientRect().width+jsPanel.autopositionSpacing)}))}if(u.left+='px',u.top+='px',c.style.left=u.left,c.style.top=u.top,f.offsetX&&(c.style.left='number'==typeof f.offsetX?`calc(${u.left} + ${f.offsetX}px)`:`calc(${u.left} + ${f.offsetX})`,u.left=window.getComputedStyle(c).left),f.offsetY&&(c.style.top='number'==typeof f.offsetY?`calc(${u.top} + ${f.offsetY}px)`:`calc(${u.top} + ${f.offsetY})`,u.top=window.getComputedStyle(c).top),f.minLeft){let W=parseFloat(u.left);'number'==typeof f.minLeft&&(f.minLeft+='px'),c.style.left=f.minLeft;let H=parseFloat(window.getComputedStyle(c).left);W>H&&(c.style.left=W+'px'),u.left=window.getComputedStyle(c).left}if(f.maxLeft){let W=parseFloat(u.left);'number'==typeof f.maxLeft&&(f.maxLeft+='px'),c.style.left=f.maxLeft;let H=parseFloat(window.getComputedStyle(c).left);W<H&&(c.style.left=W+'px'),u.left=window.getComputedStyle(c).left}if(f.maxTop){let W=parseFloat(u.top);'number'==typeof f.maxTop&&(f.maxTop+='px'),c.style.top=f.maxTop;let H=parseFloat(window.getComputedStyle(c).top);W<H&&(c.style.top=W+'px'),u.top=window.getComputedStyle(c).top}if(f.minTop){let W=parseFloat(u.top);'number'==typeof f.minTop&&(f.minTop+='px'),c.style.top=f.minTop;let H=parseFloat(window.getComputedStyle(c).top);W>H&&(c.style.top=W+'px'),u.top=window.getComputedStyle(c).top}if('function'==typeof f.modify){let W=f.modify.call(u,u);c.style.left=W.left,c.style.top=W.top}return c.style.opacity=1,c.style.left=window.getComputedStyle(c).left,c.style.top=window.getComputedStyle(c).top,c},processCallbacks(n,o,c='some',f){return'function'==typeof o&&(o=[o]),c?o[c](function(m){if('function'==typeof m)return m.call(n,n,f)}):void o.forEach(function(m){m.call(n,n,f)})},rgbToHsl(n,o,c){n/=255,o/=255,c/=255;let u,y,f=Math.max(n,o,c),m=Math.min(n,o,c),v=(f+m)/2;if(f===m)u=y=0;else{let x=f-m;y=0.5<v?x/(2-f-m):x/(f+m),f===n?u=(o-c)/x+(o<c?6:0):f===o?u=(c-n)/x+2:f===c?u=(n-o)/x+4:void 0,u/=6}return u*=360,y=100*y+'%',v=100*v+'%',{css:'hsl('+u+','+y+','+v+')',h:u,s:y,l:v}},rgbToHex(n,o,c){let f=(+n).toString(16),m=(+o).toString(16),u=(+c).toString(16);return 1===f.length&&(f=`0${f}`),1===m.length&&(m=`0${m}`),1===u.length&&(u=`0${u}`),`#${f}${m}${u}`},removeSnapAreas(n){document.querySelectorAll('.jsPanel-snap-area').forEach(function(o){n.parentElement&&n.parentElement.removeChild(o)})},resetZi(){this.zi=((n=jsPanel.ziBase)=>{let o=n;return{next:()=>{return o++}}})(),Array.prototype.slice.call(document.querySelectorAll('.jsPanel-standard')).sort((n,o)=>{return n.style.zIndex-o.style.zIndex}).forEach(n=>{n.style.zIndex=jsPanel.zi.next()})},resizeit(n,o={}){let E,z,C,S,j,c=Object.assign({},this.defaults.resizeit,o),f=n.parentElement,m=f.tagName.toLowerCase(),u='function'==typeof c.maxWidth?c.maxWidth():c.maxWidth||1e4,y='function'==typeof c.maxHeight?c.maxHeight():c.maxHeight||1e4,v='function'==typeof c.minWidth?c.minWidth():c.minWidth,x='function'==typeof c.minHeight?c.minHeight():c.minHeight,P=[];const T=new CustomEvent('jspanelresizestart',{detail:n.id}),L=new CustomEvent('jspanelresize',{detail:n.id}),k=new CustomEvent('jspanelresizestop',{detail:n.id});return E=this.pOcontainment(c.containment),c.handles.split(',').forEach(A=>{const W=document.createElement('DIV');W.className=`jsPanel-resizeit-handle jsPanel-resizeit-${A.trim()}`,W.style.zIndex=90,n.append(W)}),n.querySelectorAll('.jsPanel-resizeit-handle').forEach(A=>{jsPanel.pointerdown.forEach(function(W){A.addEventListener(W,H=>{H.preventDefault(),P=document.querySelectorAll('iframe'),P.length&&P.forEach(function(oe){oe.style.pointerEvents='none'});const R=n.getBoundingClientRect(),B=f.getBoundingClientRect(),D=window.getComputedStyle(f,null),O=parseInt(D.borderLeftWidth,10),M=parseInt(D.borderTopWidth,10),I=D.getPropertyValue('position'),N=H.clientX||H.touches[0].clientX,X=H.clientY||H.touches[0].clientY,Y=R.width,F=R.height,V=H.target.classList;let _=R.left,K=R.top,G=1e4,U=1e4,Z=1e4,J=1e4;n.content.style.pointerEvents='none','body'!==m&&(_=R.left-B.left+f.scrollLeft,K=R.top-B.top+f.scrollTop),'body'===m&&E?(G=document.documentElement.clientWidth-R.left,Z=document.documentElement.clientHeight-R.top,U=R.width+R.left,J=R.height+R.top):E&&('static'===I?(G=B.width-R.left+O,Z=B.height+B.top-R.top+M,U=R.width+(R.left-B.left)-O,J=R.height+(R.top-B.top)-M):(G=f.clientWidth-(R.left-B.left)+O,Z=f.clientHeight-(R.top-B.top)+M,U=R.width+(R.left-B.left)-O,J=n.clientHeight+(R.top-B.top)-M)),E&&(U-=E[3],J-=E[0],G-=E[1],Z-=E[2]);const Q=window.getComputedStyle(n);let ee=parseFloat(Q.width)-R.width,te=parseFloat(Q.height)-R.height,ne=parseFloat(Q.left)-R.left,ae=parseFloat(Q.top)-R.top;f!==document.body&&(ne+=B.left,ae+=B.top),z=oe=>{C||(document.dispatchEvent(T),c.start&&jsPanel.processCallbacks(n,c.start,!1,{width:Y,height:F}),jsPanel.front(n)),C=1,document.dispatchEvent(L),(V.contains('jsPanel-resizeit-e')||V.contains('jsPanel-resizeit-se')||V.contains('jsPanel-resizeit-ne'))&&(S=Y+(oe.clientX||oe.touches[0].clientX)-N+ee,S>=G&&(S=G),S>=u?S=u:S<=v&&(S=v),n.style.width=S+'px'),(V.contains('jsPanel-resizeit-s')||V.contains('jsPanel-resizeit-se')||V.contains('jsPanel-resizeit-sw'))&&(j=F+(oe.clientY||oe.touches[0].clientY)-X+te,j>=Z&&(j=Z),j>=y?j=y:j<=x&&(j=x),n.style.height=j+'px'),(V.contains('jsPanel-resizeit-w')||V.contains('jsPanel-resizeit-nw')||V.contains('jsPanel-resizeit-sw'))&&(S=Y+N-(oe.clientX||oe.touches[0].clientX)+ee,S<=u&&S>=v&&S<=U&&(n.style.left=_+(oe.clientX||oe.touches[0].clientX)-N+ne+'px'),S>=U&&(S=U),S>=u?S=u:S<=v&&(S=v),n.style.width=S+'px'),(V.contains('jsPanel-resizeit-n')||V.contains('jsPanel-resizeit-nw')||V.contains('jsPanel-resizeit-ne'))&&(j=F+X-(oe.clientY||oe.touches[0].clientY)+te,j<=y&&j>=x&&j<=J&&(n.style.top=K+(oe.clientY||oe.touches[0].clientY)-X+ae+'px'),j>=J&&(j=J),j>=y?j=y:j<=x&&(j=x),n.style.height=j+'px'),window.getSelection().removeAllRanges();const ie=window.getComputedStyle(n),le={left:parseFloat(ie.left),top:parseFloat(ie.top),right:parseFloat(ie.right),bottom:parseFloat(ie.bottom),width:parseFloat(ie.width),height:parseFloat(ie.height)};c.resize&&jsPanel.processCallbacks(n,c.resize,!1,le)},jsPanel.pointermove.forEach(function(oe){document.addEventListener(oe,z,!1)}),window.addEventListener('mouseout',oe=>{null===oe.relatedTarget&&jsPanel.pointermove.forEach(function(ie){document.removeEventListener(ie,z,!1)})},!1)})})}),jsPanel.pointerup.forEach(function(A){document.addEventListener(A,W=>{if(jsPanel.pointermove.forEach(function(H){document.removeEventListener(H,z,!1)}),W.target.classList&&W.target.classList.contains('jsPanel-resizeit-handle')){let H,R;const B=W.target.className;if(B.match(/jsPanel-resizeit-nw|jsPanel-resizeit-w|jsPanel-resizeit-sw/i)&&(H=!0),B.match(/jsPanel-resizeit-nw|jsPanel-resizeit-n|jsPanel-resizeit-ne/i)&&(R=!0),c.grid&&Array.isArray(c.grid)){1===c.grid.length&&(c.grid[1]=c.grid[0]);const D=parseFloat(n.style.width),O=parseFloat(n.style.height),M=D%c.grid[0],I=O%c.grid[1],N=parseFloat(n.style.left),X=parseFloat(n.style.top),Y=N%c.grid[0],F=X%c.grid[1];n.style.width=M<c.grid[0]/2?D-M+'px':D+(c.grid[0]-M)+'px',n.style.height=I<c.grid[1]/2?O-I+'px':O+(c.grid[1]-I)+'px',H&&(Y<c.grid[0]/2?n.style.left=N-Y+'px':n.style.left=N+(c.grid[0]-Y)+'px'),R&&(F<c.grid[1]/2?n.style.top=X-F+'px':n.style.top=X+(c.grid[1]-F)+'px')}}C&&(n.content.style.pointerEvents='inherit',document.dispatchEvent(k),C=void 0,n.saveCurrentDimensions(),n.saveCurrentPosition(),c.stop&&jsPanel.processCallbacks(n,c.stop,!1,{width:parseFloat(n.style.width),height:parseFloat(n.style.height)})),P.length&&P.forEach(function(H){H.style.pointerEvents='inherit'})},!1)}),c.disable&&n.querySelectorAll('.jsPanel-resizeit-handle').forEach(A=>{A.style.pointerEvents='none'}),n},setClass(n,o){return o.split(' ').forEach(c=>n.classList.add(c)),n},remClass(n,o){return o.split(' ').forEach(c=>n.classList.remove(c)),n},setStyle(n,o){for(let c in o)if(o.hasOwnProperty(c)){let f=(c+'').replace(/-\w/gi,m=>{return m.substr(-1).toUpperCase()});n.style[f]=o[c]}return n},snapPanel(n,o){if(n.currentData.beforeSnap={width:n.currentData.width,height:n.currentData.height},o&&'function'==typeof o)o.call(n,n,n.snappableTo);else if(!1!==o){let c=[0,0];if(n.options.dragit.snap.containment&&n.options.dragit.containment){const f=this.pOcontainment(n.options.dragit.containment),m=n.snappableTo;m.startsWith('left')?c[0]=f[3]:m.startsWith('right')&&(c[0]=-f[1]),m.endsWith('top')?c[1]=f[0]:m.endsWith('bottom')&&(c[1]=-f[2])}n.reposition(`${n.snappableTo} ${c[0]} ${c[1]}`),n.snapped=n.snappableTo}},create(n={},o){jsPanel.zi||(jsPanel.zi=((X=jsPanel.ziBase)=>{let Y=X;return{next:()=>{return Y++}}})());let c;n.config?(n=Object.assign({},this.defaults,n.config,n),delete n.config):n=Object.assign({},this.defaults,n),n.id?'function'==typeof n.id&&(n.id=n.id()):n.id=`jsPanel-${jsPanel.idCounter+=1}`;const f=document.getElementById(n.id);if(null!==f){f.classList.contains('jsPanel')&&f.front();const X=new jsPanelError('NO NEW PANEL CREATED!\nAn element with the ID <'+n.id+'> already exists in the document.');try{throw X}catch(Y){o&&o.call(Y,Y)}return console.error(X.name+':',X.message)}const m=this.pOcontainer(n.container,o);if(m&&m.message)return console.error(m.name+':',m.message);n.maximizedMargin=this.pOcontainment(n.maximizedMargin),n.dragit&&(['start','drag','stop'].forEach(function(X){n.dragit[X]?'function'==typeof n.dragit[X]&&(n.dragit[X]=[n.dragit[X]]):n.dragit[X]=[]}),n.dragit.snap&&('object'==typeof n.dragit.snap?n.dragit.snap=Object.assign({},this.defaultSnapConfig,n.dragit.snap):n.dragit.snap=this.defaultSnapConfig)),n.resizeit&&['start','resize','stop'].forEach(function(X){n.resizeit[X]?'function'==typeof n.resizeit[X]&&(n.resizeit[X]=[n.resizeit[X]]):n.resizeit[X]=[]}),['onbeforeclose','onbeforemaximize','onbeforeminimize','onbeforenormalize','onbeforesmallify','onbeforeunsmallify','onclosed','onfronted','onmaximized','onminimized','onnormalized','onsmallified','onstatuschange','onunsmallified'].forEach(function(X){n[X]?'function'==typeof n[X]&&(n[X]=[n[X]]):n[X]=[]}),n.headerRemove&&(n.header=!1);let u=n.template?n.template:this.createPanelTemplate();u.options=n,u.status='initialized',u.currentData={},u.header=u.querySelector('.jsPanel-hdr'),u.headerbar=u.header.querySelector('.jsPanel-headerbar'),u.titlebar=u.header.querySelector('.jsPanel-titlebar'),u.headerlogo=u.headerbar.querySelector('.jsPanel-headerlogo'),u.headertitle=u.headerbar.querySelector('.jsPanel-title'),u.controlbar=u.headerbar.querySelector('.jsPanel-controlbar'),u.headertoolbar=u.header.querySelector('.jsPanel-hdr-toolbar'),u.content=u.querySelector('.jsPanel-content'),u.footer=u.querySelector('.jsPanel-ftr'),u.snappableTo=!1,u.snapped=!1;const y=new CustomEvent('jspanelloaded',{detail:n.id}),v=new CustomEvent('jspanelbeforeclose',{detail:n.id}),x=new CustomEvent('jspanelclosed',{detail:n.id}),E=new CustomEvent('jspanelstatuschange',{detail:n.id}),z=new CustomEvent('jspanelbeforenormalize',{detail:n.id}),C=new CustomEvent('jspanelnormalized',{detail:n.id}),S=new CustomEvent('jspanelbeforemaximize',{detail:n.id}),j=new CustomEvent('jspanelmaximized',{detail:n.id}),P=new CustomEvent('jspanelbeforeminimize',{detail:n.id}),T=new CustomEvent('jspanelminimized',{detail:n.id}),L=new CustomEvent('jspanelbeforesmallify',{detail:n.id}),k=new CustomEvent('jspanelsmallified',{detail:n.id}),A=new CustomEvent('jspanelsmallifiedmax',{detail:n.id}),W=new CustomEvent('jspanelbeforeunsmallify',{detail:n.id}),H=new CustomEvent('jspanelfronted',{detail:n.id}),R=u.querySelector('.jsPanel-btn-close'),B=u.querySelector('.jsPanel-btn-maximize'),D=u.querySelector('.jsPanel-btn-normalize'),O=u.querySelector('.jsPanel-btn-smallify'),M=u.querySelector('.jsPanel-btn-smallifyrev'),I=u.querySelector('.jsPanel-btn-minimize');R&&jsPanel.pointerup.forEach(X=>{R.addEventListener(X,Y=>{Y.preventDefault(),u.close()})}),B&&jsPanel.pointerup.forEach(X=>{B.addEventListener(X,Y=>{Y.preventDefault(),u.maximize()})}),D&&jsPanel.pointerup.forEach(X=>{D.addEventListener(X,Y=>{Y.preventDefault(),u.normalize()})}),O&&jsPanel.pointerup.forEach(X=>{O.addEventListener(X,Y=>{Y.preventDefault(),u.smallify()})}),M&&jsPanel.pointerup.forEach(X=>{M.addEventListener(X,Y=>{Y.preventDefault(),u.unsmallify()})}),I&&jsPanel.pointerup.forEach(X=>{I.addEventListener(X,Y=>{Y.preventDefault(),u.minimize()})});let N=jsPanel.extensions;for(let X in N)N.hasOwnProperty(X)&&(u[X]=N[X]);if(u.addToolbar=(X,Y,F)=>{if('header'===X?X=u.headertoolbar:'footer'==X&&(X=u.footer),'string'==typeof Y)X.innerHTML=Y;else if(Array.isArray(Y))Y.forEach(V=>{'string'==typeof V?X.innerHTML+=V:X.append(V)});else if('function'==typeof Y){const V=Y.call(u,u);'string'==typeof V?X.innerHTML=V:X.append(V)}else X.append(Y);return X.classList.add('active'),F&&F.call(u,u),u},u.applyBuiltInTheme=X=>{return u.classList.add(`jsPanel-theme-${X.color}`),u.header.classList.add(`jsPanel-theme-${X.color}`),X.filling&&(u.content.style.background='',u.content.classList.add(`jsPanel-content-${X.filling}`)),n.headerToolbar||(u.content.style.background='',u.content.style.borderTop=`1px solid ${u.headertitle.style.color}`),u},u.applyArbitraryTheme=X=>{return u.header.style.backgroundColor=X.colors[0],['.jsPanel-headerlogo','.jsPanel-title','.jsPanel-hdr-toolbar'].forEach(Y=>{u.querySelector(Y).style.color=X.colors[3]},u),u.querySelectorAll('.jsPanel-controlbar .jsPanel-btn').forEach(Y=>{Y.style.color=X.colors[3]}),n.headerToolbar?jsPanel.setStyle(u.headertoolbar,{boxShadow:`0 0 1px ${X.colors[3]} inset`,width:'calc(100% + 4px)',marginLeft:'-1px'}):u.content.style.borderTop=`1px solid ${X.colors[3]}`,'filled'===X.filling?(u.content.style.backgroundColor=X.colors[0],u.content.style.color=X.colors[3]):'filledlight'===X.filling&&(u.content.style.backgroundColor=X.colors[1]),u},u.applyBootstrapTheme=X=>{const Y=X.bstheme,F=$.fn.button.Constructor.VERSION[0];if('4'===F?u.classList.add(`bg-${Y}`):(['panel',`panel-${Y}`].forEach(K=>{u.classList.add(K)}),u.header.classList.add('panel-heading')),'mdb'===X.bs){let K=`${Y}-color`;X.mdbStyle&&(K=`${K}-dark`),u.classList.add(K)}let V='4'===F?window.getComputedStyle(u).backgroundColor.replace(/\s+/g,''):window.getComputedStyle(u.header).backgroundColor.replace(/\s+/g,'');let _=jsPanel.calcColors(V);return u.header.style.color=_[3],X.filling?u.setTheme(`${V} ${X.filling}`):u.setTheme(V),u},u.applyThemeBorder=X=>{const Y=n.border.split(' ');if(u.style.borderWidth=Y[0],u.style.borderStyle=Y[1],u.style.borderColor=Y[2],!X.bs)-1===jsPanel.themes.indexOf(X.color)&&(Y[2]?u.style.borderColor=Y[2]:u.style.borderColor=X.colors[0]);else{let F;F='transparent'===window.getComputedStyle(u.header).backgroundColor?window.getComputedStyle(u).backgroundColor.replace(/\s+/g,''):window.getComputedStyle(u.header).backgroundColor.replace(/\s+/g,''),u.style.borderColor=Y[2]?Y[2]:F}return u},u.autopositionRemaining=()=>{let X;['left-top-down','left-top-right','center-top-down','right-top-down','right-top-left','left-bottom-up','left-bottom-right','center-bottom-up','right-bottom-up','right-bottom-left'].forEach(Y=>{u.classList.contains(Y)&&(X=Y)}),X&&n.container.querySelectorAll(`.${X}`).forEach(Y=>{Y.reposition()})},u.calcSizeFactors=()=>{const X=window.getComputedStyle(u);if(n.container===document.body)u.hf=parseFloat(u.style.left)/(document.body.clientWidth-parseFloat(u.style.width)),u.vf=parseFloat(u.style.top)/(window.innerHeight-parseFloat(X.height));else{let Y=window.getComputedStyle(u.parentElement);u.hf=parseFloat(u.style.left)/(parseFloat(Y.width)-parseFloat(u.style.width)),u.vf=parseFloat(u.style.top)/(parseFloat(Y.height)-parseFloat(X.height))}},u.clearTheme=X=>{return jsPanel.themes.concat(jsPanel.mdbthemes).forEach(Y=>{['panel',`jsPanel-theme-${Y}`,`panel-${Y}`,`${Y}-color`].forEach(F=>{u.classList.remove(F)}),u.header.classList.remove('panel-heading',`jsPanel-theme-${Y}`)},u),u.headertitle.classList.remove('panel-title'),u.content.classList.remove('panel-body','jsPanel-content-filled','jsPanel-content-filledlight'),u.footer.classList.remove('panel-footer'),jsPanel.setStyle(u,{backgroundColor:'',borderWidth:'',borderStyle:'',borderColor:''}),jsPanel.setStyle(u.content,{background:'',border:''}),jsPanel.setStyle(u.headertoolbar,{boxShadow:'',width:'',marginLeft:''}),u.header.style.background='',Array.prototype.slice.call(u.controlbar.querySelectorAll('.jsPanel-icon')).concat([u.headerlogo,u.headertitle,u.headertoolbar,u.content]).forEach(Y=>{Y.style.color=''}),X&&X.call(u,u),u},u.close=X=>{const Y=()=>{const F=n.id;return c&&window.clearTimeout(c),u.closeChildpanels(),u.parentElement&&u.parentElement.removeChild(u),!document.querySelector('#'+F)&&void(u.removeMinimizedReplacement(),document.dispatchEvent(x),X&&X.call(F,F),n.onclosed&&jsPanel.processCallbacks(u,n.onclosed,'every'),u.autopositionRemaining())};return document.dispatchEvent(v),n.onbeforeclose&&0<n.onbeforeclose.length&&!jsPanel.processCallbacks(u,n.onbeforeclose)?u:void(n.animateOut?(n.animateIn&&jsPanel.remClass(u,n.animateIn),jsPanel.setClass(u,n.animateOut),u.addEventListener('animationend',()=>{Y()})):Y())},u.closeChildpanels=X=>{return u.getChildpanels().forEach(Y=>Y.close()),X&&X.call(u,u),u},u.contentRemove=X=>{return jsPanel.emptyNode(u.content),X&&X.call(u,u),u},u.createMinimizedReplacement=()=>{const X=jsPanel.createMinimizedTemplate(),Y=window.getComputedStyle(u.headertitle).color,F=n.iconfont,V=X.querySelector('.jsPanel-controlbar');return X.style.backgroundColor='transparent'===window.getComputedStyle(u.header).backgroundColor?window.getComputedStyle(u).backgroundColor:window.getComputedStyle(u.header).backgroundColor,X.id=u.id+'-min',X.querySelector('.jsPanel-headerbar').replaceChild(u.headerlogo.cloneNode(!0),X.querySelector('.jsPanel-headerlogo')),X.querySelector('.jsPanel-titlebar').replaceChild(u.headertitle.cloneNode(!0),X.querySelector('.jsPanel-title')),X.querySelector('.jsPanel-title').style.color=Y,V.style.color=Y,u.setIconfont(F,X),'enabled'===u.dataset.btnnormalize?jsPanel.pointerup.forEach(function(_){X.querySelector('.jsPanel-btn-normalize').addEventListener(_,()=>{u.normalize()})}):V.querySelector('.jsPanel-btn-normalize').style.display='none','enabled'===u.dataset.btnmaximize?jsPanel.pointerup.forEach(function(_){X.querySelector('.jsPanel-btn-maximize').addEventListener(_,()=>{u.maximize()})}):V.querySelector('.jsPanel-btn-maximize').style.display='none','enabled'===u.dataset.btnclose?jsPanel.pointerup.forEach(function(_){X.querySelector('.jsPanel-btn-close').addEventListener(_,()=>{u.close()})}):V.querySelector('.jsPanel-btn-close').style.display='none',X},u.dragit=X=>{const Y=Object.assign({},jsPanel.defaults.dragit,n.dragit),F=u.querySelectorAll(Y.handles);return'disable'===X?F.forEach(V=>{V.style.pointerEvents='none'}):F.forEach(V=>{V.style.pointerEvents='auto'}),u},u.front=(X,Y=!0)=>{return jsPanel.front(u),document.dispatchEvent(H),X&&X.call(u,u),n.onfronted&&Y&&jsPanel.processCallbacks(u,n.onfronted,'every'),u},u.getChildpanels=()=>{return Array.prototype.slice.call(u.content.querySelectorAll('.jsPanel'))},u.getThemeDetails=X=>{const Y=X.toLowerCase().replace(/ /g,''),F={color:!1,colors:!1,filling:!1,bs:!1,bstheme:!1};if('filled'===Y.substr(-6,6)?(F.filling='filled',F.color=Y.substr(0,Y.length-6)):'filledlight'===Y.substr(-11,11)?(F.filling='filledlight',F.color=Y.substr(0,Y.length-11)):(F.filling='',F.color=Y),F.colors=jsPanel.calcColors(F.color),F.color.match('-')){const V=F.color.split('-');F.bs=V[0],F.bstheme=V[1],F.mdbStyle=V[2]||void 0}return F},u.isChildpanel=()=>{const X=u.closest('.jsPanel-content');return!!X&&X.parentElement},u.maximize=X=>{if(n.onbeforemaximize&&0<n.onbeforemaximize.length&&!jsPanel.processCallbacks(u,n.onbeforemaximize))return u;document.dispatchEvent(S);const Y=u.parentElement,F=n.maximizedMargin;return Y===document.body?(u.style.width=document.documentElement.clientWidth-F[1]-F[3]+'px',u.style.height=document.documentElement.clientHeight-F[0]-F[2]+'px',u.style.left=F[3]+'px',u.style.top=F[0]+'px',!n.position.fixed&&(u.style.left=window.pageXOffset+F[3]+'px',u.style.top=window.pageYOffset+F[0]+'px')):(u.style.width=Y.clientWidth-F[1]-F[3]+'px',u.style.height=Y.clientHeight-F[0]-F[2]+'px',u.style.left=F[3]+'px',u.style.top=F[0]+'px'),u.removeMinimizedReplacement(),u.status='maximized',u.setControls(['.jsPanel-btn-maximize','.jsPanel-btn-smallifyrev']),jsPanel.front(u),document.dispatchEvent(j),document.dispatchEvent(E),n.onstatuschange&&jsPanel.processCallbacks(u,n.onstatuschange,'every'),X&&X.call(u,u),n.onmaximized&&jsPanel.processCallbacks(u,n.onmaximized,'every'),u},u.minimize=X=>{if('minimized'===u.status)return u;if(n.onbeforeminimize&&0<n.onbeforeminimize.length&&!jsPanel.processCallbacks(u,n.onbeforeminimize))return u;if(document.dispatchEvent(P),!document.getElementById('jsPanel-replacement-container')){const Y=document.createElement('div');Y.id='jsPanel-replacement-container',document.body.append(Y)}if(u.style.left='-9999px',u.statusBefore=u.status,u.status='minimized',document.dispatchEvent(T),document.dispatchEvent(E),n.onstatuschange&&jsPanel.processCallbacks(u,n.onstatuschange,'every'),n.minimizeTo){const Y=u.createMinimizedReplacement();let F,V,_;'default'===n.minimizeTo?document.getElementById('jsPanel-replacement-container').append(Y):'parentpanel'===n.minimizeTo?(V=u.closest('.jsPanel-content').parentElement,_=V.querySelectorAll('.jsPanel-minimized-box'),F=_[_.length-1],F.append(Y)):'parent'===n.minimizeTo?(V=u.parentElement,F=V.querySelector('.jsPanel-minimized-container'),!F&&(F=document.createElement('div'),F.className='jsPanel-minimized-container',V.append(F)),F.append(Y)):document.querySelector(n.minimizeTo).append(Y)}return X&&X.call(u,u),n.onminimized&&jsPanel.processCallbacks(u,n.onminimized,'every'),u},u.normalize=X=>{return'normalized'===u.status?u:n.onbeforenormalize&&0<n.onbeforenormalize.length&&!jsPanel.processCallbacks(u,n.onbeforenormalize)?u:(document.dispatchEvent(z),u.style.width=u.currentData.width,u.style.height=u.currentData.height,u.style.left=u.currentData.left,u.style.top=u.currentData.top,u.removeMinimizedReplacement(),u.status='normalized',u.setControls(['.jsPanel-btn-normalize','.jsPanel-btn-smallifyrev']),jsPanel.front(u),document.dispatchEvent(C),document.dispatchEvent(E),n.onstatuschange&&jsPanel.processCallbacks(u,n.onstatuschange,'every'),X&&X.call(u,u),n.onnormalized&&jsPanel.processCallbacks(u,n.onnormalized,'every'),u)},u.removeMinimizedReplacement=()=>{const X=document.getElementById(u.id+'-min');return X&&X.parentElement.removeChild(X),u},u.reposition=(...X)=>{let V,Y=n.position,F=!0;return X.forEach(function(_){'string'==typeof _||'object'==typeof _?Y=_:'boolean'==typeof _?F=_:'function'==typeof _&&(V=_)}),jsPanel.position(u,Y),F&&u.saveCurrentPosition(),V&&V.call(u,u),u},u.repositionOnSnap=X=>{let Y='0',F='0';const V=jsPanel.pOcontainment(n.dragit.containment);n.dragit.snap.containment&&('left-top'===X?(Y=V[3],F=V[0]):'right-top'===X?(Y=-V[1],F=V[0]):'right-bottom'===X?(Y=-V[1],F=-V[2]):'left-bottom'===X?(Y=V[3],F=-V[2]):'center-top'===X?(Y=V[3]/2-V[1]/2,F=V[0]):'center-bottom'===X?(Y=V[3]/2-V[1]/2,F=-V[2]):'left-center'===X?(Y=V[3],F=V[0]/2-V[2]/2):'right-center'==X&&(Y=-V[1],F=V[0]/2-V[2]/2)),jsPanel.position(u,X),jsPanel.setStyle(u,{left:`calc(${u.style.left} + ${Y}px)`,top:`calc(${u.style.top} + ${F}px)`})},u.resize=(...X)=>{const Y=window.getComputedStyle(u);let _,F={width:Y.width,height:Y.height},V=!0;X.forEach(function(G){'string'==typeof G?F=G:'object'==typeof G?F=Object.assign(F,G):'boolean'==typeof G?V=G:'function'==typeof G&&(_=G)});const K=jsPanel.pOsize(u,F);return u.style.width=K.width,u.style.height=K.height,V&&u.saveCurrentDimensions(),_&&_.call(u,u),u},u.resizeit=X=>{const Y=u.querySelectorAll('.jsPanel-resizeit-handle');return'disable'===X?Y.forEach(F=>{F.style.pointerEvents='none'}):Y.forEach(F=>{F.style.pointerEvents='auto'}),u},u.saveCurrentDimensions=()=>{const X=window.getComputedStyle(u);u.currentData.width=X.width,'normalized'===u.status&&(u.currentData.height=X.height)},u.saveCurrentPosition=()=>{const X=window.getComputedStyle(u);u.currentData.left=X.left,u.currentData.top=X.top},u.setControls=(X,Y)=>{return u.header.querySelectorAll('.jsPanel-btn').forEach(F=>{F.style.display='block'}),X.forEach(F=>{const V=u.controlbar.querySelector(F);V&&(V.style.display='none')}),Y&&Y.call(u,u),u},u.setControlStatus=(X,Y='enable',F)=>{if('disable'===Y){if('removed'!==u.getAttribute(`data-btn${X}`)){u.setAttribute(`data-btn${X}`,'disabled');const V=u.controlbar.querySelector(`.jsPanel-btn-${X}`);V.style.pointerEvents='none',V.style.opacity=0.4,V.style.cursor='default'}}else if('enable'===Y){if('removed'!==u.getAttribute(`data-btn${X}`)){u.setAttribute(`data-btn${X}`,'enabled');const V=u.controlbar.querySelector(`.jsPanel-btn-${X}`);V.style.pointerEvents='auto',V.style.opacity=1,V.style.cursor='pointer'}}else if('remove'===Y){const V=u.controlbar.querySelector(`.jsPanel-btn-${X}`);u.controlbar.removeChild(V),u.setAttribute(`data-btn${X}`,'removed')}return F&&F.call(u,u),u},u.setHeaderControls=X=>{const Y=['close','maximize','normalize','minimize','smallify','smallifyrev'],F=n.headerControls;return'string'==typeof F?'none'===F?Y.forEach(V=>{u.setControlStatus(V,'remove')}):'closeonly'===F&&Y.forEach(V=>{'close'!==V&&u.setControlStatus(V,'remove')}):Y.forEach(V=>{F[V]&&u.setControlStatus(V,F[V])}),X&&X.call(u,u),u},u.setHeaderLogo=(X,Y)=>{if('string'!=typeof X)jsPanel.emptyNode(u.headerlogo),u.headerlogo.append(X);else if('<'!==X.substr(0,1)){const F=document.createElement('img');F.src=X,jsPanel.emptyNode(u.headerlogo),u.headerlogo.append(F)}else u.headerlogo.innerHTML=X;return u.headerlogo.querySelectorAll('img').forEach(function(F){F.style.maxHeight=getComputedStyle(u.headerbar).height}),Y&&Y.call(u,u),u},u.setHeaderRemove=X=>{return u.removeChild(u.header),u.content.classList.add('jsPanel-content-noheader'),['close','maximize','normalize','minimize','smallify','smallifyrev'].forEach(Y=>{u.setAttribute(`data-btn${Y}`,'removed')}),X&&X.call(u,u),u},u.setHeaderTitle=(X,Y)=>{return'string'==typeof X?u.headertitle.innerHTML=X:'function'==typeof X?(jsPanel.emptyNode(u.headertitle),u.headertitle.innerHTML=X()):(jsPanel.emptyNode(u.headertitle),u.headertitle.append(X)),Y&&Y.call(u,u),u},u.setIconfont=(X=!1,Y=u,F)=>{if(!1!==X){let V,_;if('bootstrap'===X||'glyphicon'===X)V=['glyphicon glyphicon-remove','glyphicon glyphicon-fullscreen','glyphicon glyphicon-resize-full','glyphicon glyphicon-minus','glyphicon glyphicon-chevron-down','glyphicon glyphicon-chevron-up'];else if('fa'===X||'far'===X||'fal'===X||'fas'===X)V=[`${X} fa-window-close`,`${X} fa-window-maximize`,`${X} fa-window-restore`,`${X} fa-window-minimize`,`${X} fa-chevron-down`,`${X} fa-chevron-up`],u.controlbar.style.padding='6px 0 3px 0';else if('material-icons'===X)V=[X,X,X,X,X,X],_=['close','fullscreen','fullscreen_exit','call_received','expand_more','expand_less'],u.controlbar.style.padding='4px 0 5px 0';else if(Array.isArray(X))V=[`custom-control-icon ${X[5]}`,`custom-control-icon ${X[4]}`,`custom-control-icon ${X[3]}`,`custom-control-icon ${X[2]}`,`custom-control-icon ${X[1]}`,`custom-control-icon ${X[0]}`];else return Y;Y.querySelectorAll('.jsPanel-controlbar .jsPanel-btn').forEach(K=>{jsPanel.emptyNode(K).innerHTML='<span></span>'}),Array.prototype.slice.call(Y.querySelectorAll('.jsPanel-controlbar .jsPanel-btn > span')).reverse().forEach((K,G)=>{K.className=V[G],'material-icons'===X&&(K.textContent=_[G])})}return F&&F.call(Y,Y),Y},u.setRtl=()=>{[u.header,u.headerbar,u.titlebar,u.controlbar,u.headertoolbar,u.footer].forEach(X=>{X.classList.add('jsPanel-rtl')}),[u.headertitle,u.headertoolbar,u.content,u.footer].forEach(X=>{X.dir='rtl',n.rtl.lang&&(X.lang=n.rtl.lang)})},u.setSize=()=>{if(n.panelSize){const X=jsPanel.pOsize(u,n.panelSize);u.style.width=X.width,u.style.height=X.height}else if(n.contentSize){const X=jsPanel.pOsize(u,n.contentSize);u.content.style.width=X.width,u.content.style.height=X.height,u.style.width=X.width,u.content.style.width='100%'}return u},u.setTheme=(X=n.theme,Y)=>{if(u.clearTheme(),'none'===X)return u.style.backgroundColor='#fff',u;const F=u.getThemeDetails(X);return F.bs?u.applyBootstrapTheme(F):-1===jsPanel.themes.indexOf(F.color)?u.applyArbitraryTheme(F):u.applyBuiltInTheme(F),n.border?u.applyThemeBorder(F):(u.style.borderWidth='',u.style.borderStyle='',u.style.borderColor=''),Y&&Y.call(u,u),u},u.smallify=X=>{if('smallified'===u.status||'smallifiedmax'===u.status)return u;if(n.onbeforesmallify&&0<n.onbeforesmallify.length&&!jsPanel.processCallbacks(u,n.onbeforesmallify))return u;document.dispatchEvent(L),'normalized'===u.status&&u.saveCurrentDimensions(),u.style.overflow='hidden',u.style.height=window.getComputedStyle(u.headerbar).height,'normalized'===u.status?(u.setControls(['.jsPanel-btn-normalize','.jsPanel-btn-smallify']),u.status='smallified',document.dispatchEvent(k),document.dispatchEvent(E),n.onstatuschange&&jsPanel.processCallbacks(u,n.onstatuschange,'every')):'maximized'===u.status&&(u.setControls(['.jsPanel-btn-maximize','.jsPanel-btn-smallify']),u.status='smallifiedmax',document.dispatchEvent(A),document.dispatchEvent(E),n.onstatuschange&&jsPanel.processCallbacks(u,n.onstatuschange,'every'));let Y=u.querySelectorAll('.jsPanel-minimized-box');return Y[Y.length-1].style.display='none',X&&X.call(u,u),n.onsmallified&&jsPanel.processCallbacks(u,n.onsmallified,'every'),u},u.unsmallify=X=>{if('smallified'===u.status||'smallifiedmax'===u.status){if(n.onbeforeunsmallify&&0<n.onbeforeunsmallify.length&&!jsPanel.processCallbacks(u,n.onbeforeunsmallify))return u;document.dispatchEvent(W),u.style.overflow='visible',jsPanel.front(u),'smallified'===u.status?(u.style.height=u.currentData.height,u.setControls(['.jsPanel-btn-normalize','.jsPanel-btn-smallifyrev']),u.status='normalized',document.dispatchEvent(C),document.dispatchEvent(E),n.onstatuschange&&jsPanel.processCallbacks(u,n.onstatuschange,'every')):'smallifiedmax'===u.status?u.maximize():'minimized'===u.status&&u.normalize();let Y=u.querySelectorAll('.jsPanel-minimized-box');Y[Y.length-1].style.display='flex',X&&X.call(u,u),n.onunsmallified&&jsPanel.processCallbacks(u,n.onunsmallified,'every')}return u},u.id=n.id,u.classList.add('jsPanel-'+n.paneltype),'standard'===n.paneltype&&(u.style.zIndex=this.zi.next()),m.append(u),u.front(!1,!1),u.setTheme(n.theme),n.boxShadow&&u.classList.add(`jsPanel-depth-${n.boxShadow}`),!n.header)u.setHeaderRemove();else if(n.headerLogo&&u.setHeaderLogo(n.headerLogo),u.setIconfont(n.iconfont),u.setHeaderTitle(n.headerTitle),u.setHeaderControls(),'auto-show-hide'===n.header){let V,X=n.theme.split('-'),Y='jsPanel-depth-'+n.boxShadow,F='bg-';X[1]&&(F+=X[1]),X[2]&&(V=X[1]+'-color-'+X[2]),u.header.style.opacity=0,('bootstrap'===X[0]||'mdb'===X[0])&&(this.remClass(u,F),'mdb'===X[0]&&this.remClass(u,V)),u.style.backgroundColor='transparent',this.remClass(u,Y),this.setClass(u.content,Y),u.header.addEventListener('mouseenter',function(){u.header.style.opacity=1,('bootstrap'===X[0]||'mdb'===X[0])&&(jsPanel.setClass(u,F),'mdb'===X[0]&&jsPanel.setClass(u,V)),jsPanel.setClass(u,Y),jsPanel.remClass(u.content,Y)}),u.header.addEventListener('mouseleave',function(){u.header.style.opacity=0,('bootstrap'===X[0]||'mdb'===X[0])&&(jsPanel.remClass(u,F),'mdb'===X[0]&&jsPanel.remClass(u,V)),jsPanel.remClass(u,Y),jsPanel.setClass(u.content,Y)})}if(n.headerToolbar&&u.addToolbar(u.headertoolbar,n.headerToolbar),n.footerToolbar&&u.addToolbar(u.footer,n.footerToolbar),n.content&&('function'==typeof n.content?n.content.call(u,u):'string'==typeof n.content?u.content.innerHTML=n.content:u.content.append(n.content)),n.contentAjax&&this.ajax(u,n.contentAjax),n.contentFetch&&this.fetch(u),n.contentOverflow){let X=n.contentOverflow.split(' ');1===X.length?u.content.style.overflow=X[0]:2===X.length&&(u.content.style.overflowX=X[0],u.content.style.overflowY=X[1])}if(n.rtl&&u.setRtl(),u.setSize(),u.status='normalized',n.position||'cursor'!==n.position?this.position(u,n.position):u.style.opacity=1,document.dispatchEvent(C),u.calcSizeFactors(),n.animateIn&&(u.addEventListener('animationend',()=>{this.remClass(u,n.animateIn)}),this.setClass(u,n.animateIn)),n.syncMargins){const X=this.pOcontainment(n.maximizedMargin);n.dragit&&(n.dragit.containment=X,n.dragit.snap&&(n.dragit.snap.containment=!0)),n.resizeit&&(n.resizeit.containment=X)}if(n.dragit?(this.dragit(u,n.dragit),document.addEventListener('jspaneldragstop',X=>{X.detail===u.id&&u.calcSizeFactors()},!1)):u.titlebar.style.cursor='default',n.resizeit){this.resizeit(u,n.resizeit);let X;document.addEventListener('jspanelresizestart',Y=>{Y.detail===u.id&&(X=u.status)},!1),document.addEventListener('jspanelresizestop',Y=>{Y.detail===u.id&&('smallified'===X||'smallifiedmax'===X||'maximized'===X)&&parseFloat(u.style.height)>parseFloat(window.getComputedStyle(u.header).height)&&(u.setControls(['.jsPanel-btn-normalize','.jsPanel-btn-smallifyrev']),u.status='normalized',document.dispatchEvent(C),document.dispatchEvent(E),n.onstatuschange&&jsPanel.processCallbacks(u,n.onstatuschange,'every'),u.calcSizeFactors())},!1)}if(u.saveCurrentDimensions(),u.saveCurrentPosition(),n.setStatus){const X=n.setStatus;if('smallifiedmax'===X)u.maximize().smallify();else if('smallified'===X)u.smallify();else{const Y=X.substr(0,X.length-1);u[Y]()}}return n.autoclose&&(c=window.setTimeout(()=>{u&&u.close()},n.autoclose)),this.pointerdown.forEach(X=>{u.addEventListener(X,Y=>{Y.target.closest('.jsPanel-btn-close')||Y.target.closest('.jsPanel-btn-minimize')||'standard'!==n.paneltype||u.front()},!1)}),n.onwindowresize&&window.addEventListener('resize',X=>{if(X.target===window){const Y=n.onwindowresize,F=u.status,V=window.getComputedStyle(u.parentElement);'maximized'===F&&!0===Y?u.maximize():('normalized'===F||'smallified'===F||'maximized'===F)&&('function'==typeof Y?Y.call(u,X,u):(u.style.left=(()=>{let _;return _=n.container===document.body?(document.body.clientWidth-parseFloat(u.style.width))*u.hf:(parseFloat(V.width)-parseFloat(u.style.width))*u.hf,0>=_?0:_+'px'})(),u.style.top=(()=>{let _;return _=n.container===document.body?(window.innerHeight-parseFloat(u.currentData.height))*u.vf:(parseFloat(V.height)-parseFloat(u.currentData.height))*u.vf,0>=_?0:_+'px'})()))}},!1),this.pointerup.forEach(X=>{u.addEventListener(X,()=>{u.content.style.pointerEvents='inherit'})}),this.globalCallbacks&&(Array.isArray(this.globalCallbacks)?this.globalCallbacks.forEach(X=>{X.call(u,u)}):this.globalCallbacks.call(u,u)),n.callback&&(Array.isArray(n.callback)?n.callback.forEach(X=>{X.call(u,u)}):n.callback.call(u,u)),o&&o.call(u,u),document.dispatchEvent(y),u}};