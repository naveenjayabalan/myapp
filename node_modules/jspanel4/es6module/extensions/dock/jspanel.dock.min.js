'use strict';import{jsPanel}from'../../jspanel.min.js';function dockPanel(a,b){let f,c={position:{my:'left-top',at:'right-top'},linkSlaveHeight:!1,linkSlaveWidth:!1,callback:!1},d=Object.assign({},c,a);if(f=d.master&&1===d.master.nodeType?d.master:document.querySelector(d.master),!f){const j=this.id,k=new jsPanelError('Could not dock panel with id <'+j+'> because the panel to dock to does not exist in the document!');try{throw k}catch(l){b&&b.call(l,l)}return console.error(k.name+':',k.message)}let g=document.getElementById(this.id),i=Object.assign({},d.position,{of:f,minLeft:!1,minTop:!1,maxLeft:!1,maxTop:!1,autoposition:!1});if(i.my||(i.my=c.position.my),i.at||(i.at=c.position.at),g.options.position=i,['smallify','smallifyrev','minimize','normalize','maximize'].forEach(function(j){g.setControlStatus(j,'remove')}),d.linkSlaveHeight){let j=window.getComputedStyle(f).height;g.resize({height:j})}if(d.linkSlaveWidth){let j=window.getComputedStyle(f).width;g.resize({width:j})}return g.reposition(i),g.dragit('disable'),g.resizeit('disable'),g.options.minimizeTo=!1,f.reposSlave=function(){document.querySelector('#'+g.id)&&g.reposition()},f.options.dragit&&f.options.dragit.drag.push(f.reposSlave),f.resizeSlave=function(){if(document.querySelector('#'+g.id)){if(g.reposition(),d.linkSlaveHeight){let j=window.getComputedStyle(f).height;g.resize({height:j})}if(d.linkSlaveWidth){let j=window.getComputedStyle(f).width;g.resize({width:j})}}},f.options.resizeit&&f.options.resizeit.resize.push(f.resizeSlave),document.addEventListener('jspanelbeforeclose',function(j){if(j.detail===f.id)return f.options.dragit&&(f.options.dragit.drag=[]),f.options.resizeit&&(f.options.resizeit.resize=[]),!0},!1),document.addEventListener('jspanelclosed',function(j){j.detail===f.id&&document.querySelector('#'+g.id)&&g.close()},!1),document.addEventListener('jspanelmaximized',function(j){if(j.detail===f.id&&document.querySelector('#'+g.id)){if(g.normalize(),d.linkSlaveHeight){let k=window.getComputedStyle(f).height;g.resize({height:k})}if(d.linkSlaveWidth){let k=window.getComputedStyle(f).width;g.resize({width:k})}g.reposition()}},!1),document.addEventListener('jspanelminimized',function(j){j.detail===f.id&&document.querySelector('#'+g.id)&&g.minimize()},!1),document.addEventListener('jspanelnormalized',function(j){if(j.detail===f.id&&document.querySelector('#'+g.id)){if(g.normalize(),d.linkSlaveHeight){let k=window.getComputedStyle(f).height;g.resize({height:k})}if(d.linkSlaveWidth){let k=window.getComputedStyle(f).width;g.resize({width:k})}g.reposition()}},!1),document.addEventListener('jspanelsmallifiedmax',function(j){j.detail===f.id&&document.querySelector('#'+g.id)&&g.smallify().reposition()},!1),document.addEventListener('jspanelsmallified',function(j){j.detail===f.id&&document.querySelector('#'+g.id)&&g.smallify().reposition()},!1),document.addEventListener('jspanelunsmallified',function(j){j.detail===f.id&&document.querySelector('#'+g.id)&&g.unsmallify().reposition()},!1),g.dockedTo=f.id,d.callback&&d.callback.call(g,f,g),g}dockPanel.getVersion=function(){return'1.0.0'},dockPanel.getDate=function(){return'2018-04-27 17:08'},jsPanel.extend({dock:dockPanel});